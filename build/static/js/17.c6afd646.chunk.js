(this["webpackJsonpevro-food"]=this["webpackJsonpevro-food"]||[]).push([[17],{371:function(e,t,a){e.exports={modal:"styles_modal__3OLF6"}},376:function(e,t,a){e.exports={loginForm:"styles_loginForm__1Ug6T",subtitle:"styles_subtitle__DVqlZ",list:"styles_list__27zuj",item:"styles_item__2NJ8-",loginBtn:"styles_loginBtn__1_zSz",text:"styles_text__1rlwt"}},377:function(e,t,a){e.exports={authForm:"styles_authForm__3-gAT",form:"styles_form__3E2bq",btnContainer:"styles_btnContainer__2gdhf",btnChange:"styles_btnChange__1eZJn",activ:"styles_activ__1UvFZ",forgotPassword:"styles_forgotPassword__2qDj9"}},378:function(e,t,a){e.exports={formContainer:"styles_formContainer__3y7ys",title:"styles_title__3cD-X",label:"styles_label__2vNUr"}},379:function(e,t,a){e.exports={hero:"styles_hero__1n0Nn",container:"styles_container__3UEH9",wripper:"styles_wripper__AamIa"}},399:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(63),s=a(62),c=a(19),o=a(371),i=a.n(o),l=a(397),u=a(6),m=Object(s.a)((function(e){var t=e.title,a=e.visible,n=e.children,s=e.width,o=Object(r.a)().AuthStore,m=Object(c.g)();return Object(u.jsx)(l.a,{title:t,className:i.a.modal,width:s,visible:a,onOk:function(){o.toggleAntModalAction()},onCancel:function(){o.toggleAntModalAction(),m.push("/"),o.resetForgotPasswordAction()},footer:!0,children:n})})),p=(a(106),a(42)),b=a(34),h=a.n(b),d=a(33),j=a(383),f=a(57),O=j.a.initializeApp({apiKey:"AIzaSyBYJkTdmlWGXnFFIMl8t9HKFlsyIdDXyHY",authDomain:"appleshopapp.firebaseapp.com",databaseURL:"https://saunter-3a6ad-default-rtdb.firebaseio.com/",projectId:"appleshopapp",OAuth:"https://appleshopapp.firebaseapp.com/__/auth/handler"}),x=O.auth(),v=O.firestore();x.languageCode="en";var g=new j.a.auth.GoogleAuthProvider,_=new j.a.auth.FacebookAuthProvider,w=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.signInWithPopup(g);case 3:return(t=e.sent)&&f.b.success("You was successfully Login!",{theme:"colored"}),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),f.b.error("".concat(e.t0.message),{theme:"colored"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.signInWithPopup(_);case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),f.b.error("".concat(e.t0.message),{theme:"colored"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.signInWithEmailAndPassword(t,a);case 3:return(n=e.sent)&&f.b.success("You was successfully Login!",{theme:"colored"}),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),f.b.error("".concat(e.t0.message),{theme:"colored"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(h.a.mark((function e(t,a,n){var r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.createUserWithEmailAndPassword(a,n);case 3:return(r=e.sent)&&f.b.success("You was successfully registered. Login please!",{theme:"colored"}),s=r.user,e.next=8,v.collection("users").add({uid:s.uid,name:t,authProvider:"local",email:a});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),f.b.error("".concat(e.t0.message),{theme:"colored"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.sendPasswordResetEmail(t);case 3:n=e.sent,Object(f.b)("Password reset link sent! Check your email!",{theme:"colored"}),n&&a.push(d.a.home),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),f.b.error("".concat(e.t0.message),{theme:"colored"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),F=a(376),A=a.n(F),P=a(44),I=a(261),S=Object(s.a)((function(){var e=Object(r.a)().AuthStore,t=Object(c.g)(),a=function(){var a=Object(p.a)(h.a.mark((function a(){var n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w();case 2:(n=a.sent)&&(e.loginUserAction(n.credential.accessToken),t.push(d.a.home));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),n=function(){var a=Object(p.a)(h.a.mark((function a(){var n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y();case 2:(n=a.sent)&&(e.loginUserAction(n.credential.accessToken),t.push(d.a.home));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:A.a.loginForm,children:[Object(u.jsx)("h2",{className:A.a.subtitle,children:"Login with"}),Object(u.jsxs)("ul",{className:A.a.list,children:[Object(u.jsxs)("li",{className:A.a.item,name:"google",onClick:function(){return a()},children:[Object(u.jsx)("p",{className:A.a.text,children:" Google"}),Object(u.jsx)("button",{className:A.a.loginBtn,type:"button",children:Object(u.jsx)(P.a,{className:A.a.icon,icon:I.b,color:"white",size:"2x"})})]}),Object(u.jsxs)("li",{className:A.a.item,name:"facebook",onClick:function(){return n()},children:[Object(u.jsx)("p",{className:A.a.text,children:" Facebook"}),Object(u.jsx)("button",{className:A.a.loginBtn,type:"button",children:Object(u.jsx)(P.a,{icon:I.a,color:"white",size:"2x"})})]})]})]})})),U=S,q=a(5),z=a(1),E=a(2),L=a(377),M=a.n(L),T=a(9),B=a.n(T),D=a(393),J=a(267),W=a(392),Y=a(386),R=Object(s.a)((function(){var e=Object(r.a)().AuthStore,t=Object(c.g)(),a=Object(n.useState)(!0),s=Object(E.a)(a,2),o=s[0],i=s[1],l=D.a.useForm(),m=Object(E.a)(l,1)[0],b=Object(n.useState)({name:"",email:"",password:""}),j=Object(E.a)(b,2),f=j[0],O=j[1],x=function(){var a=Object(p.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!o){a.next=7;break}return a.next=3,N(f.email,f.password);case 3:a.sent&&(e.toggleModalAction(),t.push(d.a.home)),a.next=10;break;case 7:k(f.name,f.email,f.password),t.push(d.a.login),e.toggleModalAction();case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),v=function(e){var t=e.target,a=t.value,n=t.name;O((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(q.a)({},n,a))}))};return Object(u.jsx)("div",{className:M.a.authForm,children:Object(u.jsxs)(D.a,{form:m,name:"AuthForm",className:M.a.form,labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(){x(),i(!0),m.setFieldsValue({name:"",email:"",password:""})},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(u.jsxs)("div",{className:M.a.btnContainer,children:[Object(u.jsx)(J.a,{className:B()(M.a.btnChange,Object(q.a)({},M.a.activ,o)),type:"primary",onClick:function(){return i(!0)},children:"\u0412\u0445\u043e\u0434"}),Object(u.jsx)(J.a,{className:B()(M.a.btnChange,Object(q.a)({},M.a.activ,!o)),type:"primary",onClick:function(){return i(!1)},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),!o&&Object(u.jsx)(D.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448\u0435 \u0418\u043c\u044f!"}],children:Object(u.jsx)(W.a,{name:"name",value:f.name,onChange:function(e){return v(e)}})}),Object(u.jsx)(D.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email!"}],children:Object(u.jsx)(W.a,{name:"email",value:f.email,onChange:v})}),Object(u.jsx)(D.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 password!"}],children:Object(u.jsx)(W.a.Password,{name:"password",value:f.password,onChange:v})}),o&&Object(u.jsx)("p",{className:M.a.forgotPassword,type:"button",onClick:function(){e.setForgotPasswordAction()},children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(u.jsx)(D.a.Item,{className:M.a.chekbox,name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(u.jsx)(Y.a,{children:"Remember me"})}),Object(u.jsx)(D.a.Item,{wrapperCol:{offset:8,span:16},children:Object(u.jsx)(J.a,{type:"primary",htmlType:"submit",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})})]})})})),V=R,G=a(378),H=a.n(G),X=function(){var e=Object(c.g)(),t=Object(n.useState)(""),a=Object(E.a)(t,2),r=a[0],s=a[1];return Object(u.jsx)("div",{className:H.a.formContainer,children:Object(u.jsxs)(D.a,{name:"ResetPassvorfForm",initialValues:{remember:!0},onFinish:function(){C(r,e)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(u.jsx)("h2",{className:H.a.title,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f!"}),Object(u.jsx)(D.a.Item,{className:H.a.label,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 email",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 email!"}],children:Object(u.jsx)(W.a,{className:H.a.input,name:"email",value:r,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 email",onChange:function(e){return function(e){var t=e.target.value;s(t)}(e)}})}),Object(u.jsx)(D.a.Item,{wrapperCol:{offset:8,span:16},children:Object(u.jsx)(J.a,{type:"primary",htmlType:"submit",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})})]})})},Z=a(379),K=a.n(Z),Q=Object(s.a)((function(){var e=Object(r.a)().AuthStore,t=e.antModal,a=e.forgotPassword;return Object(n.useEffect)((function(){e.toggleAntModalAction()}),[]),Object(u.jsxs)("div",{className:K.a.LoginPage,children:[Object(u.jsx)("div",{className:K.a.hero}),Object(u.jsx)("div",{className:K.a.hero}),Object(u.jsx)("div",{className:K.a.container,children:t&&Object(u.jsx)(m,{visible:!0,width:"700px",children:Object(u.jsx)("div",{className:K.a.wripper,children:a?Object(u.jsx)(X,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(V,{}),Object(u.jsx)(U,{})]})})})})]})}));t.default=Q}}]);
//# sourceMappingURL=17.c6afd646.chunk.js.map